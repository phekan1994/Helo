<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>24x7 YouTube Playlist Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#000;
  color:#fff;
}
header {
  background:#111;
  padding:10px;
  text-align:center;
  font-size:20px;
}
.container {
  padding:10px;
}

/* Controls */
.controls {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:10px;
}
.controls input {
  flex:1;
  padding:8px;
  font-size:16px;
}
.controls button {
  padding:8px 12px;
  font-size:16px;
  cursor:pointer;
}

/* Player */
#playerBox {
  width:100%;
  height:320px;
  background:#000;
  margin-bottom:10px;
}
#player iframe {
  width:100%;
  height:100%;
}

/* Playlist */
#playlistBox {
  padding:10px;
}
#playlistHeader {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:5px;
}
#playlist {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:10px;
  max-height:300px;
  overflow-y:auto;
}
.videoItem {
  cursor:pointer;
  text-align:center;
  background:#181818;
  padding:5px;
  border:1px solid #333;
}
.videoItem img {
  width:100%;
}
.hide {
  display:none !important;
}
</style>
</head>
<body>

<header>ðŸ“º 24x7 YouTube Playlist Player</header>

<div class="container">

  <!-- Controls -->
  <div class="controls">
    <input id="url" placeholder="YouTube video link paste à¤•à¤°à¥‡à¤‚">
    <button onclick="addVideo()">Add Video</button>
    <button onclick="playAll()">â–¶ Play All</button>
    <button onclick="togglePlaylist()">Hide / Show Playlist</button>
  </div>

  <!-- Video Player -->
  <div id="playerBox">
    <div id="player"></div>
  </div>

  <!-- Playlist -->
  <div id="playlistBox">
    <div id="playlistHeader">
      <h3>ðŸ“‚ Playlist</h3>
    </div>
    <div id="playlist"></div>
  </div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let videos = [];
let current = 0;
let player;

// YouTube ID Extractor
function getID(url){
  const reg = /(?:youtube\.com\/(?:watch\?v=|shorts\/|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
  const m = url.match(reg);
  return m ? m[1] : null;
}

// Add Video to Playlist
function addVideo(){
  const input = document.getElementById('url');
  const id = getID(input.value);
  if(!id){
    alert("Invalid YouTube URL");
    return;
  }
  videos.push(id);
  input.value='';
  renderPlaylist();
}

// Render Playlist Thumbnails
function renderPlaylist(){
  const container = document.getElementById('playlist');
  container.innerHTML='';
  videos.forEach((id,i)=>{
    const div = document.createElement('div');
    div.className='videoItem';
    div.innerHTML=`<img src="https://img.youtube.com/vi/${id}/mqdefault.jpg"><div>Video ${i+1}</div>`;
    div.onclick=()=>{playVideo(i)};
    container.appendChild(div);
  });
}

// Play Single Video
function playVideo(index){
  current=index;
  if(player) player.loadVideoById(videos[current]);
}

// Play All Playlist
function playAll(){
  if(videos.length===0) return;
  current=0;
  player.loadVideoById(videos[current]);
}

// YouTube API Ready
function onYouTubeIframeAPIReady(){
  player = new YT.Player('player',{
    height:'100%',
    width:'100%',
    playerVars:{
      autoplay:0,       // Desktop: user must click Play All
      controls:1,
      rel:0,
      modestbranding:1
    },
    events:{
      onStateChange:onPlayerStateChange
    }
  });
}

// Auto Next Video
function onPlayerStateChange(e){
  if(e.data === YT.PlayerState.ENDED){
    current++;
    if(current>=videos.length) current=0; // loop 24x7
    player.loadVideoById(videos[current]);
  }
}

// Hide / Show Playlist
function togglePlaylist(){
  const playlist = document.getElementById('playlist');
  playlist.classList.toggle('hide');
}
</script>

</body>
</html>
